<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><title>ClusterKit - Web Cluster</title><link rel="shortcut icon" type=image/png href=/clusterkit/favicon.ico><link rel=stylesheet href=/clusterkit/scss/main.min.bd924025bdec8ffe2fe445942d508ded88bb071c072635a022beebc1128dfc36.css></head><body><nav class="navbar navbar-expand-lg navbar-light fixed-top"><div class=container><a class=navbar-brand href=/clusterkit/><img src=/clusterkit/logo.png height=45 class="d-inline-block align-top" alt="ClusterKit logo"></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarsExampleDefault aria-controls=navbarsExampleDefault aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarsExampleDefault><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/clusterkit/>หน้าหลัก</a></li><li class=nav-item><a class=nav-link href=/clusterkit/service/>บริการของเรา</a></li><li class=nav-item><a class=nav-link href=/clusterkit/training-courses/>เทรนนิ่ง</a></li><li class=nav-item><a class=nav-link href=/clusterkit/success-stories/>ผลงานของเรา</a></li><li class=nav-item><a class=nav-link href=/clusterkit/blogs/>บล็อก</a></li><li class=nav-item><a class=nav-link href=/clusterkit/about-us/>เกี่ยวกับเรา</a></li><li class=nav-item><a class=nav-link href=/clusterkit/contact-us/>ติดต่อเรา</a></li></ul><a href=callto:028813800><span class=navbar-text><i class="fas fa-phone mr-2"></i>0 2881 3800</span></a></div></div></nav><main role=main><div class="container mt-5"><div class=row><div class="col-md-8 offset-md-2"><h1 class=display-5>Web Cluster</h1><div class=h1-line></div><div class=markdown><p>ระบบเว็บคลัสเตอร์ เป็นระบบคอมพิวเตอร์คลัสเตอร์ที่ประยุกต์ใช้หลักการกระจายภาระงาน (Load Balancing) บริการเว็บ ให้กับเครื่องเว็บเซิร์ฟเวอร์หลายเครื่องช่วยกันทำงาน เพื่อให้ระบบสามารถรองรับกับปริมาณผู้ใช้งานเว็บที่เข้ามาใช้งานพร้อมกันจำนวนมากได้</p><p>ปัญหาที่เกิดขึ้นกับเว็บเซิร์ฟเวอร์เพียงเครื่องเดียวคือ</p><ol><li>ระบบไม่สามารถให้บริการได้</li><li>ระบบตอบสนองช้า</li></ol><p>ปัญหาข้อที่ 1 ระบบไม่สามารถให้บริการ หรือที่เรามักเรียกกันว่า &ldquo;ระบบล่ม&rdquo; นั้น สำหรับเว็บไซต์ที่ต้องการให้บริการตลอด 24 ชั่วโมง โดยมีอัตราการล่มของระบบ (Down Time) ต่ำที่สุดนั้น จะต้องดูในองค์ประกอบหลายส่วนด้วยกัน เช่น</p><ul><li>ระบบไฟฟ้าต้องมั่นใจว่ามีระบบสำรองเพียงพอ</li><li>ระบบเครือข่ายที่มีลิงค์สำรองในกรณีลิงค์หลักใช้งานไม่ได้ และ</li><li>มีเครื่องสำรองที่สามารถทำงานได้ทันทีเมื่อเครื่องเว็บเซิร์ฟเวอร์หลักให้บริการไม่ได้</li></ul><p>ปัญหาข้อที่ 2 อาจจะเกิดได้จากหลายสาเหตุด้วยกัน เช่น</p><ul><li>มีการใช้งานระบบเครือข่ายสูงมากจนให้บริการไม่ทัน หรือ</li><li>มีผู้ใช้งานจำนวนมาก เข้าเยี่ยมชมเว็บพร้อม ๆ กัน</li></ul><p>ระบบเว็บคลัสเตอร์ มุ่งแก้ไขปัญหา 2 เรื่องข้างต้น โดยเจาะจงลงไปในส่วนของเครื่องคอมพิวเตอร์ที่ให้สามารถให้บริการได้ตลอดเวลาโดยมีอัตราการหยุดให้บริการต่ำที่สุด</p><p>การทำในลักษณะนี้ทางคอมพิวเตอร์เราเรียนกันว่า High Availability เรียกสั้น ๆ ว่า HA ในภาษาวิชาการบ้านเราจะใช้คำว่า &ldquo;ภาวะทนต่อความผิดพร่องสูง&rdquo; ซึ่งจะแบ่งวิธีการทำงานออกได้เป็น 2 รูปแบบดังต่อไปนี้</p><ol><li>Active / Standby หรือ Fail Over ในรูปแบบนี้จะพบในลักษณะของการทำงานของเครื่องคอมพิวเตอร์ 2 เครื่องร่วมกัน โดยที่เครื่องให้บริการหลัก (Active) ค่อยให้บริการอยู่ และเครื่องสำรอง (Stanby) ทำหน้าที่ในการปรับปรุงข้อมูลต่าง ๆ ให้เหมือนกับเครื่องหลักอยู่เสมอ และค่อยตรวจสอบว่าเครื่องหลักยังให้บริการได้เป็นปรกติอยู่หรือไม่ ถ้าพบว่าเครื่องหลักไม่สามารถให้บริการได้ เครื่องสำรองจะให้บริการแทน</li><li>Active / Active รูปแบบนี้เครื่องคอมพิวเตอร์ทุกเครื่องในระบบ จะให้บริการในงานเดียวทั้งหมด ซึ่งในระบบอาจจะมีหลายเครื่อง ถ้ามีเครื่องใดเครื่องหนึ่งให้บริการไม่ได้ เครื่องที่เหลือก็ยังคงให้บริการอยู่ เพียงแต่ผู้ใช้งานอาจจะรู้สึกว่าระบบให้บริการช้าลง เหตุเพราะมีเครื่องให้บริการน้อยลงนั่นเอง</li></ol><p>ทั้ง 2 รูปแบบมีวัตถุประสงค์เพื่อให้ระบบสามารถให้บริการได้ตลอดเวลาโดยมีระยะเวลาการให้บริการไม่ได้น้อยที่สุดเท่าที่จะเป็นไปได้ แต่ความเหมาะสมในการใช้งานก็ต่างกัน เพราะในบางงานไม่สามารถให้บริการพร้อม ๆ กันได้ เช่น งานที่ต้องมีการเขียนข้อมูลที่ห้ามเขียนทับกัน เป็นต้น</p><h2 id=หล-กการทำงาน>หลักการทำงาน</h2><div class="d-flex my-4"><figure class="figure mx-auto"><img src=/clusterkit/imgs/blogs/web-cluster-1.png class="figure-img img-fluid rounded" alt="A generic square placeholder image with rounded corners in a figure."><figcaption class="figure-caption text-center">Web Cluster Diagram</figcaption></figure></div><p>หลักการทำงานของเว็บคลัสเตอร์ เมื่อเครื่อง Load Balance ได้รับ request มา ตัว Load Balance จะนำ request นั้น ไปกระจายโหลดไปยังเครื่องเซิร์ฟเวอร์ต่าง ๆ ที่อยู่ในระบบเว็บคลัสเตอร์ โดยมีอัลกอริทึ่มหลาย ๆ รูปแบบ เช่น</p><ul><li>Round-Robin</li><li>Weighted Round-Robin Scheduling</li><li>Lease connection</li><li>Weight Lease connection</li></ul><p>และเมื่อเครื่องเซิร์ฟเวอร์ได้รับ request แล้ว ก็จะตอบกลับไปยังเครื่องไคลเอ็นต์ ซึ่งจะมีวีธีตอบกลับที่เป็นที่นิยม 2 วิธีคือ วิธีตอบกลับแบบ NAT และ แบบ Direct Route</p><h3 id=nat-method>NAT Method</h3><div class="d-flex my-4"><figure class="figure mx-auto"><img src=/clusterkit/imgs/blogs/web-cluster-2.png class="figure-img img-fluid rounded" alt="A generic square placeholder image with rounded corners in a figure."><figcaption class="figure-caption text-center">NAT Method Architecture</figcaption></figure></div><p>วีธีการตอบกลับแบบ NAT (Network Address Translation) จะมีรูปแบบการตอบกลับโดยที่เมื่อเครื่อง เซิร์ฟเวอร์ Load Balance (router) ได้รับคำร้อง (request) มาจากเครื่องที่ขอรับบริการ (Client)แล้ว ตัวเครื่อง Load Balance จะทำการส่งต่อคำร้องนั้นไปยังเซิร์ฟเวอร์ในกลุ่มคลัสเตอร์ (real server) เพื่อทำการประมวลผล request ที่ได้รับมา เมื่อเครื่อง real server ประมวลผลเสร็จ จะส่งข้อมูลตอบกลับไป ยัง Load Balance เพื่อให้ Load Balance ส่งต่อข้อมูลกลับไปยังเครื่องที่ร้องขอข้อมูล (Client) ก็จะจบกระบวนการ การตอบกลับแบบ NAT ซึ่งวิธีการตอบกลับนี้จะพบได้ใน Hardware Load Balance ส่วนใหญ่ในท้องตลาดนั่นเอง</p><h3 id=direct-route-method>Direct Route Method</h3><div class="d-flex my-4"><figure class="figure mx-auto"><img src=/clusterkit/imgs/blogs/web-cluster-3.png class="figure-img img-fluid rounded" alt="A generic square placeholder image with rounded corners in a figure."><figcaption class="figure-caption text-center">Direct Route Method Architecture</figcaption></figure></div><p>วีธีการตอบกลับแบบ Direct Rounting จะเป็นการตอบกลับข้อมูลจากเครื่องในกลุ่มคลัสเตอร์ (real server) กลับไปยังเครื่องที่ขอรับบริการ(Client)โดยตรง โดยไม่ต้องผ่านตัว Load Balance
โดยเมื่อเครื่อง Load Balance ได้รับคำร้องจากเครื่องที่ขอรับบริการ (Client) เครื่อง Load Balance จะส่งคำร้อง ต่อไปยังกลุ่มคลัสเตอร์ (real server) และเมื่อกลุ่มเซิร์ฟเวอร์ได้รับคำร้องแล้ว จะตอบกลับไปยังเครื่องที่ขอรับบริการโดยตรง โดยที่ไม่ผ่าน Load Balance ซึ่งวิธีการตอบกลับแบบ Direct Route จะมีประสิทธิภาพในการทำงานมากกว่าการตอบกลับแบบ NAT เนื่องจากระบบจะไม่เป็นคอขวดที่เครื่อง Load Balance ในกรณีที่มี traffic มาก</p><p>ระบบเว็บคลัสเตอร์นี้ เราสามารถนำไป integrate ให้ทำงานร่วมกับ MySQL Cluster และ Lustre File System เพื่อสร้างเป็นระบบ Extreme Web Cluster เพื่อให้บริการเว็บไซต์ โดยที่ระบบนั้นทำ fail-over ในทุก ๆ ส่วนของระบบ ทำให้สามารถให้บริการได้อย่างต่อเนื่องและมีประสิทธิภาพ</p><h2 id=ผลงานท-ผ-านมา>ผลงานที่ผ่านมา</h2><p>คลัสเตอร์คิท ได้รับความไว้จากหน่วยงานทั้งภาครัฐและเอกชน ให้ผู้ติดตั้งและดูแลระบบเว็บคลัสเตอร์ ให้กับเว็บไซต์บริการงานต่าง ๆ เช่น</p><ul><li><a href=/clusterkit/success-stories/gistda target=_blank>โครงการดิจิตอลไทยแลนด์</a>
สำหรับงานจัดเก็บและประมวลผลภาพถ่ายดาวเทียม <a href=https://www.gistda.or.th target=_blank>สำนักงานพัฒนาเทคโนโลยีอวกาศและภูมิสารสนเทศ (องค์การมหาชน)</a></li><li><a href=/clusterkit/success-stories/virgin target=_blank>เว็บไซต์ VirginRadioThailand.com</a>
เว็บไซต์ชุมชนออนไลน์ของคลื่นวิทยุยอดนิยม Virgin Radio Thailand</li></ul></div></div></div></div></main><footer class="container pt-2 mb-md-4 mt-5 pt-md-3"><div class=row><div class="col-12 col-sm-6 col-md"><h5>บริษัท คลัสเตอร์คิท จำกัด</h5><ul class="list-unstyled text-small"><li class=text-muted>เลขที่ 91 ซ.ริมคลองชักพระ<br>ถนนบางขุนนนท์ แขวงบางขุนนนท์<br>เขตบางกอกน้อย กทม. 10700<br>เลขทะเบียนนิติบุคคล: 0105550004011</li><li class="text-muted my-2"><a href=callto:028813800><span><i class="fas fa-phone mr-2"></i>0 2881 3800</span></a></li><li class="text-muted my-2"><a href=mailto:info@clusterkit.co.th><span><i class="fas fa-envelope mr-2"></i>info@clusterkit.co.th</span></a></li><li class="text-muted my-2"><a href=https://www.facebook.com/clusterkit target=_blank><span><i class="fab fa-facebook-square mr-2"></i>ClusterKit</span></a></li></ul></div><div class="col-12 col-sm-6 col-md"><h5>ClusterKit</h5><ul class="list-unstyled text-small"><li><a class=text-muted href=/clusterkit/>หน้าหลัก</a></li><li><a class=text-muted href=/clusterkit/service/>บริการของเรา</a></li><li><a class=text-muted href=/clusterkit/training-courses/>เทรนนิ่ง</a></li><li><a class=text-muted href=/clusterkit/success-stories/>ผลงานของเรา</a></li><li><a class=text-muted href=/clusterkit/blogs/>บล็อก</a></li><li><a class=text-muted href=/clusterkit/about-us/>เกี่ยวกับเรา</a></li><li><a class=text-muted href=/clusterkit/contact-us/>ติดต่อเรา</a></li></ul></div><div class="col-12 col-sm-6 col-md"><h5>ClusterKit Tutorial</h5><ul class="list-unstyled text-small"><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/ZorinOS.pdf target=_blank>Zonrin OS Education</a></li><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/SparkLocal&Zeppelin.pdf target=_blank>Apache Spark and Zeppelin</a></li><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/WRF3.8.1_InstallationGuide.pdf target=_blank>WRF on Rocks Cluster</a></li><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/MariaDBGaleraCluster_Tutorial.pdf target=_blank>MariaDB Galera Cluster</a></li><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/OpenStack_Tutorial.pdf target=_blank>OpenStack</a></li><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/EC2_Tutorial.pdf target=_blank>Amazon EC2</a></li></ul></div><div class="col-12 col-sm-6 col-md"><h5>บริการสารสนเทศ</h5><ul class="list-unstyled text-small"><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/CloudComputingWithOpenSourceOssfest11.pdf target=_blank>Cloud Computing With Open Source</a></li><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/MySQL_Cluster_Ossfest11.pdf target=_blank>MySQL Cluster</a></li><li><a class=text-muted href=http://www.clusterkit.co.th/pdf/HPC-Intro-EGAT.pdf target=_blank>Cluster HPC on Open Source</a></li></ul></div><div class="col-12 border-top mt-3"><small class="d-block text-muted my-4">Copyright &copy; 2007-2019 ClusterKit All rights
reserved.</small></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js integrity=sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js integrity=sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM crossorigin=anonymous></script><script>var $nav=$('.navbar')
var $navCollapse=$('.navbar-collapse')
$(document).scroll(function(){$nav.toggleClass('bg-light',$(this).scrollTop()>$nav.height())})
$('main, footer').on('click',function(){$navCollapse.collapse('hide')})</script></body></html>