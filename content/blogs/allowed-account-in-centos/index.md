---
title: 'การทำให้ account ใน CentOS ที่หมดอายุแล้วสามารถใช้งานได้ต่อไป'
date: 2010-11-03T15:29:48+07:00
draft: false
---
ในระบบ Linux / Unix นั้น เราสามารถกำหนด Expire date หรือวันหมดอายุสำหรับการใช้งาน account ได้ ซึ่งถ้าเลยวันที่กำหนดไปแล้วนั้น account ดังกล่าวก็จะไม่สามารถเข้ามาใช้งานระบบต่อไปได้ แต่ถ้าต้องการให้ใช้งานต่อไปได้ เราสามารถทำได้โดยการเปลี่ยนวันหมดอายุของ account หรือ ทำการเอาวันหมดอายุของ account ออกไปเลย

จริง ๆ แล้วกำหนดวันหมดอายุนี้จะกำหนดอยู่ในไฟล์ /etc/shadow ซึ่งสามารถเข้าไป edit ตรง ๆ เพื่อลบ expiredate ได้ แต่ไม่ควรทำ เพราะอาจทำให้เกิดความผิดพลาดในระบบได้ ถ้าเราแก้ไขไม่ถูกต้อง ซึ่งวิธีที่ถูกต้องคือการสั่งการผ่าน command เพื่อให้แก้ไขค่าต่าง ๆ ของ account ซึ่งถ้าเราต้องการกำหนดวันหมดอายุใหม่ของ account นั้น เราจะใช้คำสั่ง usermod ช่วยทำการเปลี่ยน expire date โดยจะมีรูปแบบคำสั่งดังนี้
  <table class="table table-bordered">
         <td>
            # usermod -e < yyyy-mm-dd > < account >  
            # usermod -e 2011-12-31 test
         </td>
   </table>
หรือจะใช้คำสั่ง chage โดยมีรูปแบบ
  <table class="table table-bordered">
         <td>
            # chage -E < yyyy-mm-dd > < account >  
            # chage -E 2011-12-31 test
         </td>
   </table>

          
แต่ถ้าต้องการเอา expire date ออกไปเพื่อให้สามารถใช้งาน account โดยไม่มีระยะเวลาหมดอายุนั้น ที่ option -E นั้น ให้ใส่ค่าเป็น -1 แทน ก็จะเป็นการนำ expire date ออกไป
  <table class="table table-bordered">
         <td>
            # chage -E -1 test
         </td>
   </table>
          

เท่านี้ account ที่หมดอายุนั้นก็จะสามารถใช้งานต่อไปได้

